<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="description" content="Linux 笔记 基础 账户配置"><link rel="manifest" href="/manifest.json"><link rel="icon" href="/imgs/zAo2nK.png"><meta name="google" value="notranslate"><meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="/imgs/zAo2nK.png"><link rel="mask-icon" href="/imgs/zAo2nK.png" color="#3eaf7c"><meta name="msapplication-TileImage" content="/imgs/zAo2nK.png"><meta name="msapplication-TileColor" content="#000000"><meta name="referrer" content="same-origin"><title>ssh和root账户配置(二) | 刘哈哈的个人笔记</title>
    <link rel="preload" href="/assets/style-ef1b8b9b.css" as="style"><link rel="stylesheet" href="/assets/style-ef1b8b9b.css">
    <link rel="modulepreload" href="/assets/app-d4abe535.js"><link rel="modulepreload" href="/assets/framework-9d7a10f9.js"><link rel="modulepreload" href="/assets/ssh和root账户配置(二).html-48f576bf.js"><link rel="modulepreload" href="/assets/ssh和root账户配置(二).html-07507aa6.js"><link rel="prefetch" href="/assets/about.html-e656ce0c.js" as="script"><link rel="prefetch" href="/assets/index.html-029e08f5.js" as="script"><link rel="prefetch" href="/assets/list.html-7e274d7f.js" as="script"><link rel="prefetch" href="/assets/CSS笔记.html-347dc792.js" as="script"><link rel="prefetch" href="/assets/使用VuePress2.x构建博客网站.html-cf1f099b.js" as="script"><link rel="prefetch" href="/assets/VIM编辑器大全(三).html-7cfcdaad.js" as="script"><link rel="prefetch" href="/assets/VIM编辑器配置(四).html-54d6f951.js" as="script"><link rel="prefetch" href="/assets/wordpress环境配置(五).html-1f25c99b.js" as="script"><link rel="prefetch" href="/assets/命令和快捷键(一).html-8fad2126.js" as="script"><link rel="prefetch" href="/assets/文件操作.html-71134ced.js" as="script"><link rel="prefetch" href="/assets/express应用.html-5491c769.js" as="script"><link rel="prefetch" href="/assets/index.html-8ec85646.js" as="script"><link rel="prefetch" href="/assets/nodejs基础.html-0d847bb2.js" as="script"><link rel="prefetch" href="/assets/nodejs知识点.html-addf88d1.js" as="script"><link rel="prefetch" href="/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/assets/about.html-e05436f9.js" as="script"><link rel="prefetch" href="/assets/index.html-bfc70ba0.js" as="script"><link rel="prefetch" href="/assets/list.html-b00d8421.js" as="script"><link rel="prefetch" href="/assets/CSS笔记.html-95745b87.js" as="script"><link rel="prefetch" href="/assets/使用VuePress2.x构建博客网站.html-feb438f9.js" as="script"><link rel="prefetch" href="/assets/VIM编辑器大全(三).html-6a150f2a.js" as="script"><link rel="prefetch" href="/assets/VIM编辑器配置(四).html-d1bd61d5.js" as="script"><link rel="prefetch" href="/assets/wordpress环境配置(五).html-058a374e.js" as="script"><link rel="prefetch" href="/assets/命令和快捷键(一).html-3512880e.js" as="script"><link rel="prefetch" href="/assets/文件操作.html-043ab7dc.js" as="script"><link rel="prefetch" href="/assets/express应用.html-cf020a3e.js" as="script"><link rel="prefetch" href="/assets/index.html-8e362044.js" as="script"><link rel="prefetch" href="/assets/nodejs基础.html-3684254f.js" as="script"><link rel="prefetch" href="/assets/nodejs知识点.html-42f1f0ad.js" as="script"><link rel="prefetch" href="/assets/404.html-a7f5fdb2.js" as="script"><link rel="prefetch" href="/assets/index-70769223.js" as="script"><link rel="prefetch" href="/assets/giscus-52604b1e.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/imgs/zAo2nK.png" alt="刘哈哈的个人笔记"><span class="site-name can-hide">刘哈哈的个人笔记</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/list/" class="" aria-label="文章"><!--[--><!--]--> 文章 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/serve/" class="" aria-label="后端"><!--[--><!--]--> 后端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/about/" class="" aria-label="关于我"><!--[--><!--]--> 关于我 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/fly-liu/blog-vuepress-next/" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/list/" class="" aria-label="文章"><!--[--><!--]--> 文章 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/serve/" class="" aria-label="后端"><!--[--><!--]--> 后端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/about/" class="" aria-label="关于我"><!--[--><!--]--> 关于我 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/fly-liu/blog-vuepress-next/" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">ssh和root账户配置(二) <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/linux/ssh%E5%92%8Croot%E8%B4%A6%E6%88%B7%E9%85%8D%E7%BD%AE(%E4%BA%8C).html#题记" class="router-link-active router-link-exact-active sidebar-item" aria-label="题记"><!--[--><!--]--> 题记 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/linux/ssh%E5%92%8Croot%E8%B4%A6%E6%88%B7%E9%85%8D%E7%BD%AE(%E4%BA%8C).html#安装ssh服务" class="router-link-active router-link-exact-active sidebar-item" aria-label="安装SSH服务"><!--[--><!--]--> 安装SSH服务 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/linux/ssh%E5%92%8Croot%E8%B4%A6%E6%88%B7%E9%85%8D%E7%BD%AE(%E4%BA%8C).html#ftp服务安装" class="router-link-active router-link-exact-active sidebar-item" aria-label="FTP服务安装"><!--[--><!--]--> FTP服务安装 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/linux/ssh%E5%92%8Croot%E8%B4%A6%E6%88%B7%E9%85%8D%E7%BD%AE(%E4%BA%8C).html#ftp-其他命令" class="router-link-active router-link-exact-active sidebar-item" aria-label="FTP 其他命令"><!--[--><!--]--> FTP 其他命令 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/linux/ssh%E5%92%8Croot%E8%B4%A6%E6%88%B7%E9%85%8D%E7%BD%AE(%E4%BA%8C).html#遇到的问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="遇到的问题"><!--[--><!--]--> 遇到的问题 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/linux/ssh%E5%92%8Croot%E8%B4%A6%E6%88%B7%E9%85%8D%E7%BD%AE(%E4%BA%8C).html#root账户配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="root账户配置"><!--[--><!--]--> root账户配置 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/linux/ssh%E5%92%8Croot%E8%B4%A6%E6%88%B7%E9%85%8D%E7%BD%AE(%E4%BA%8C).html#使用git-bash-远程连接" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用git bash 远程连接"><!--[--><!--]--> 使用git bash 远程连接 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 id="题记" tabindex="-1"><a class="header-anchor" href="#题记" aria-hidden="true">#</a> 题记</h2><p>在安装完虚拟机之后，可能你想要在通过本地shell软件或<code>git bash</code> 连接服务器的ssh服务，这一篇介绍在本地使用<code>git bash</code>通过ssh协议连接服务器。</p><p>概述：</p><ol><li>首先安装SSH服务</li><li>开启ROOT账户</li><li>远程连接</li></ol><p>首先确定一下本地能否ping到服务器，保证虚拟机能够和宿主机正常通信： <img src="/assets/1-4570f211.jpg" alt="ping"></p><!-- ---------------------------------------- SSH 相关开始 ------------------------------------------------------ --><h3 id="安装ssh服务" tabindex="-1"><a class="header-anchor" href="#安装ssh服务" aria-hidden="true">#</a> 安装SSH服务</h3><ol><li>查看SSH服务是否开启 使用<code>ps -e|grep ssh</code> 或 <code>sudo service ssh status</code> 查看,看sshd有没有进程就可以了，有的话说明SSH服务已安装，没有的话就需要安装了</li></ol><p>这是已安装的状态，安装过后可跳过2、3步骤，<br><img src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAWkAAAA4CAYAAAA/3gmoAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAZOSURBVHhe7ZpbchtLDEPt/W/Ne3KqXWGMYkCyn9JohI9T7gZIzkMt5JZ9Pz4/P7+FEEJcE4W0EEJcGIW0EEJcGIW0EMDX1xfVhXgWCukN3OGL3Z7BP8c7BpaeWVyNtwrp6jA232B+xKMO+anr4NxonWl34u7Px3jHZ34lFNJ/8d7IwX3UIT91HfbskYagfxd6n+tOz3/Xz/Iu/IQ0+5C81vYIepVv+1nfe6O+95jv10xDoh7DPPQjzdbW6+tRj3zcZxrTK7AnWmdYXftpsJrMX6V3fuT5XqxDDWsQ9Lxv+8jvAXtZf+bbPvLFc+kK6R2+rxn10fNa5Wca6vgTa1mf933Nzv5Mi/RIi2ZkYM9sv++rZs5cJ2Jkfk8t22c13vNa1V/RMx89r7W1r2E94jlMhzQy0/9IP9NQj2ZWs077mRbpUe0sbZ7B/Izq/mZmjlBdv9K9Vu29tupXVLUz/sj1xVmGf92Bmvc86GO9Z8av5vdqqEczq1mn/UyL9Kh2lTbXYD6j5/5GZyLW6+n1EaZ7rdp7ms9AH+sjLcPP9GQ+07NZ4rF0hzTq3qs+0BM+apWfaahHM6tZp/1Mi/SodhWc23uNkftreu/cXkbmVffF/Gr+jF/1RLS+rJf5rD6bIR7LcEgb6I/UMmb86vq9mtfb2mA+0077mRbpkRbNyMCeaJ3B6qre3tk9jMyKarMZq8/C/KqnYuSaJ64v9kFDuu1HPsQZH5nxq/m9mjHitT1qfm8aW9s+80c0prd91B/NqLBehNUxWD3u2ayR+RUj8zMd8R7uPcxHbWYm0jMfPa9VvnguPyHdaB+KYXvzvO+9ymf1SOU3cDarr3wj87Hf13gdfdSwBvEe1kT1XjM9qkeP1exgZi7ek8FqMn+V3vnMq7RsntFqEO/5GvR7wF7Wn/lRvdfEc/gX0kKc4pW+8L2BtfOZFIgiQyEtjvPqIW06wmpm2T1P3AuFtBBCXBiFtBBCXBiFtBBCXBiFtBCH+f74oHqGfk8tjG0hjX9UYQcs871n9Po9rPS+C9W7WX13rz5/FoW0WGFLSLMDhdqMXzHSU11f1J9H5Ve8+vwVFNJiBYW0KN9P7/tr2kgtW1faSC1bZ1pGC1pkxLd95Dfa/Ri29zXiPTn2O+nqkKE/eiB3HGB9CX5h76L6fCJtpJatK22klq0zLYKFKmo9vq/Bvb+Xth+5P3Fvtoa0Ha7sgDEf+5jvqfyK1f67wd4HapVf8erzWQgjM34W0pEm3pOH/pf0yMHLalcOsA7//1SfVeVXvPr8RgvVLIwzn+mo7bg/cV8eFtKjhy6qXz28Ovz/w94JapVf8erzkSyMG8xn9ajtvD9xP572h8OKqEeHdz8zn1+kjdSydaWN1LJ1po2QBXUDfYW0WOESIT1ySKtZFav9dwXfS/V5RO+w6ZnH1kzLZmQeWzMtmhFRheyq7++n7UfvUdyXbb/usIPFDpj3jKwGPSTzeljtvzM9737l/b3y/BaqyIgf1ePe7s3ub/Y+xf049jtpIYQQ6yikhRDiwiikhRDiwiikhRDiwiikhRDiwiikN3CHv8Tj/1mAGu6FEI/nrUK6Ch0LqtFwelSYnboOzo3WmSaEOIdC+i/eGwmjRwXXqeuwZ480BH0hxBl+Qpp94byGX86oPvJtP+t7b9T3HvP9mmlI1GOYh36k2dp6fT3qkY/7TGN6BfZEayHEGbpCeofva0Z99LxW+ZmGOv7EWtbnfV+zsz/TIj3SohkZ2DPTL4SYZzqkkZn+R/qZhno0s5p12s+0SI9qZ2nzDOYLIc4w/OsO1LznQR/rPTN+Nb9XQz2aWc067WdapEe1q7S5BvOFEHvpDmnUvVd9YU/4qFV+pqEezaxmnfYzLdKj2lVw7qlrCCF+GQ5pY+TLesKvrt+reb2tDeYz7bSfaZEeadGMDOyJ1kKIM9CQbvvqy7jqR7MYq9fPtKze8F7bo+b3prG17TN/RGN620f90YwK60VYnRBiLz8h3fBfPv8lRN97lc/qkcpv4GxWX/lG5mO/r/E6+qhhDeI9rInqvWZ6VI8eq9nBqblCCM6/kBbiBPiPB4P1CCF+UUiLo7BgRliPEOIXhbQQQlwYhbQQQlwYhbQQQlwYhbQQQlwYhbQQQlwYhbQQQlwYhbQQQlyWz+8/dIasfn00ccIAAAAASUVORK5CYII=" alt="ssha"></p><ol start="2"><li>安装SSH服务 使用<code>sudo apt install ssh -y</code><br> 或<code>sudo apt-get install openssh-server</code><code>sudo apt-get install openssh-client</code></li></ol><p><code>openssh-server</code>是服务端，通过开放本机的ssh服务，客户端才能连接，必选<br><code>open-client</code>是SSH客户端，通过open-client可以远程连接其他主机，可选</p><ol start="3"><li><p>启动SSH服务 <code>service ssh start</code> 或 <code>sudo /etc/init.d/ssh start</code>，然后查看SSH服务状态，使用步骤1的命令：<code>ps -aux |grep ssh</code></p></li><li><p>修改配置文件，设置完后重启服务 修改配置文件中的端口号和设置root用户的登录权限,输入命令：<br><code>sudo vim /etc/ssh/sshd_config</code></p></li></ol><p><img src="/assets/3-dee0cb1e.jpg" alt="ssha"></p><p>注释掉<code>PermitRootLogin without-password</code>,重新<code>PermitRootLogin</code>参数的值为<code>yes</code>，PermitRootLogin可以限定root用户通过ssh的登录方式，如禁止登陆、禁止密码登录、仅允许密钥登陆和开放登陆<br> 设置为<code>yes</code>的意思是允许SSH登录，不限制登录方式</p><ol start="5"><li>重启SSH服务 <code>sudo service ssh restart</code> 或 <code>sudo /etc/init.d/ssh restart</code>,不报错表示重启成功，也可查询状态</li></ol><p><img src="/assets/4-b12e49cd.jpg" alt="ssh"></p><p><code>sudo /etc/init.d/ssh restart</code></p><!-- ---------------------------------------- SSH 相关结束 ------------------------------------------------------ --><!-- ---------------------------------------- FTP 相关开始 ------------------------------------------------------ --><h2 id="ftp服务安装" tabindex="-1"><a class="header-anchor" href="#ftp服务安装" aria-hidden="true">#</a> FTP服务安装</h2><ul><li>安装vsftpd服务</li></ul><div class="language-text" data-ext="text"><pre class="language-text"><code>sudo apt install vsftpd
</code></pre></div><ul><li>配置 vsftpd 服务器</li></ul><ol><li>备份配置文件</li></ol><div class="language-text" data-ext="text"><pre class="language-text"><code>sudo mv /etc/vsftpd.conf /etc/vsftpd.conf_bak
</code></pre></div><ol start="2"><li>修改文件配置</li></ol><div class="language-text" data-ext="text"><pre class="language-text"><code>sudo vim /etc/vsftpd.conf
</code></pre></div><p>修改内容如下：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>listen=NO                                 #阻止 vsftpd 在独立模式下运行
anonymous_enable=NO                       #是否允许匿名登录，不做匿名的话就不重要
local_enable=YES                          #允许本地用户登陆
write_enable=YES                          #开启用户写权限（上传文件权限）
chroot_local_user=YES                     #限制用户只能看见 local_root 目录（或 home 目录）
chroot_list_enable=YES                    #启用限制用户名单                
chroot_list_file=/etc/vsftpd.chroot_list  #限制ftp登录的用户名单
local_root=/home/ftp　                     #设置根目录所在的位置，可以自己设置
pam_service_name=vsftpd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>创建ftp用户并设置密码</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># 创建用户
# -m 自动建立/home/下的用户目录
sudo useradd -m &lt;username&gt;

# 修改密码
sudo passwd &lt;username&gt;

# 创建 FTP 根目录
# sudo mkdir /home/ftp/ftp_root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>添加访问ftp服务器的白名单</li></ol><div class="language-text" data-ext="text"><pre class="language-text"><code>sudo vim /etc/vsftpd.chroot_list
</code></pre></div><p><img src="/assets/4-b12e49cd.jpg" alt="添加限制用户"></p><p>这里面添加的用户，可以访问ftp服务器根目录之外的目录。</p><!-- 修改 `/etc/pam.d/vsftpd`
```
sudo vim /etc/pam.d/vsftpd
```

注释掉`auth   required        pam_shells.so`, 保存退出 --><ol start="5"><li>重启ftp服务</li></ol><div class="language-text" data-ext="text"><pre class="language-text"><code>sudo service vsftpd restart
</code></pre></div><h3 id="ftp-其他命令" tabindex="-1"><a class="header-anchor" href="#ftp-其他命令" aria-hidden="true">#</a> FTP 其他命令</h3><ul><li>启动 ftp 服务</li></ul><div class="language-text" data-ext="text"><pre class="language-text"><code>service vsftpd start
</code></pre></div><ul><li>重启服务以及关闭服务</li></ul><div class="language-text" data-ext="text"><pre class="language-text"><code>service vsftpd restart      #重启FTP服务
service vsftpd stop         #关闭FTP服务
</code></pre></div><ul><li>查询状态</li></ul><div class="language-text" data-ext="text"><pre class="language-text"><code>service vsftpd status 
或
ps -e | grep vsftpd
</code></pre></div><h3 id="遇到的问题" tabindex="-1"><a class="header-anchor" href="#遇到的问题" aria-hidden="true">#</a> 遇到的问题</h3><ul><li>ftp登录错误 当我ftp账户连接FTP服务时（使用FileZilla），响应报错：</li></ul><p><img src="/assets/7-e25fe7ac.jpg" alt="ftp"></p><p>找了好久解决方法，问题出现在配置文件中 <img src="/assets/8-da4fa730.png" alt="ftp"></p><p>将<code>pam_service_name</code>值改为<code>ftp</code></p><p>放上我找到的问题汇总，<a href="https://blog.csdn.net/wlchn/article/details/50855447" target="_blank" rel="noopener noreferrer">ftp vsftpd 530 login incorrect 解决办法汇总<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ul><li>vim编辑文件时未正确退出解决方法 vim编辑文件时异常退出，下次使用vim编辑时会提示<code>swap file &quot;.vsftpd.conf.swp&quot;already exists！</code> ，并提示选择操作</li></ul><p>使用vim编辑时实际上是先copy一份临时文件并映射到内存中让我们编辑，，当执行 w 后才保存临时文件到原文件，执行 q 会删除临时文件；每次启动vim都是检查是否存在临时文件，有就会询问如何处理，</p><p>解决办法是删除临时文件 <code>rm -f .vsftpd.conf.swp</code></p><!-- ---------------------------------------- FTP 相关结束 ------------------------------------------------------ --><h2 id="root账户配置" tabindex="-1"><a class="header-anchor" href="#root账户配置" aria-hidden="true">#</a> root账户配置</h2><ol><li>设置root角色的密码，若之前从来没有设置过，该操作也开启了root角色 <code>sudo passwd root</code></li></ol><h3 id="使用git-bash-远程连接" tabindex="-1"><a class="header-anchor" href="#使用git-bash-远程连接" aria-hidden="true">#</a> 使用git bash 远程连接</h3><ol><li>打开<code>git bash</code>工具</li><li>输入命令 <code>ssh root@192.168.43.131</code></li></ol><p>这里记录一下，刚开始在服务端安装完SSH服务后，使用<code>git bash</code>连接不上服务器，后来才查到是没有设置root账户，&quot;root&quot;是已创建的账户；如果改变端口后要跟 -p 加端口号，如：<br><code>$ ssh -p 9521 root@192.168.43.131</code></p><p><img src="/assets/5-e5210874.jpg" alt="ssh"></p><p>退出服务使用命令：<code>logout</code></p></div><!--[--><!--[--><div class="giscus-wrapper input-top" id="comment" style="display:block;"><div style="text-align:center">Loading...</div></div><!--]--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">最后更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1099983219@qq.com">fly-liu</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/linux/VIM%E7%BC%96%E8%BE%91%E5%99%A8%E5%A4%A7%E5%85%A8(%E4%B8%89).html" class="" aria-label="VIM编辑器大全(三)"><!--[--><!--]--> VIM编辑器大全(三) <!--[--><!--]--></a></span><span class="next"><a href="/linux/%E5%91%BD%E4%BB%A4%E5%92%8C%E5%BF%AB%E6%8D%B7%E9%94%AE(%E4%B8%80).html" class="" aria-label="Linux命令和快捷键(一)"><!--[--><!--]--> Linux命令和快捷键(一) <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-d4abe535.js" defer></script>
  </body>
</html>
